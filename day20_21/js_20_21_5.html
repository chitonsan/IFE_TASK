<!DOCTYPE html>
<html>
<head>
	<title>setTimeout实现淡出淡入效果</title>
</head>
<body>
	<div id="fade-obj" style="width:300px;height:300px;background:skyblue;opacity: 1"></div>
	<button id="fade-btn">淡出</button>
	<script>
		var obj = document.getElementById("fade-obj");
		var btn = document.getElementById("fade-btn");
		btn.onclick = function() {
			if (obj.style.opacity == "1") {
				function fadeOut() {
					if (obj.style.opacity > 0) {
						obj.style.opacity -= 0.01;
						setTimeout(fadeOut, 50);
					}				
				}
				fadeOut();
				btn.disabled = true;
				btn.innerText = "淡入";
				setTimeout("btn.disabled = false", 5000);
			} else {
				function fadeIn() {
					if (obj.style.opacity < 1) {
						obj.style.opacity = parseFloat(obj.style.opacity) + 0.01;
						setTimeout(fadeIn, 50);
					}
					
				}
				fadeIn();
				btn.disabled = true;
				btn.innerText = "淡出";
				setTimeout("btn.disabled = false", 5000);
			}
		}
	</script>
</body>
</html>